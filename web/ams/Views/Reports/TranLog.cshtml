@using jqx
@using ams
@using ams.Controllers;
@{
    ViewBag.Title = "Transfer Log";
    ViewBag.PanelBody = widgets.tran_size;
    jqxGrid grid = new jqxGrid<ams.Data.TranLog>
    {
        page = this,
        scope_id = "grid1",
        showtoolbar = "#toolbar",
        source = { id = "ID", url = Url.GetActionUrl<ReportsApiController>("GetTranLog") },
        pager = { pageable = true, server_paging = true, pagermode = pagermode.simple, },
        filter = { filterable = true, server_filtering = true, showfilterrow = true, showfiltermenuitems = false, },
        sorting = { sortable = true, server_sorting = true, },
        editmode = editmode.selectedcell,
        selectionmode = selectionmode.singlerow,
        //selectedrowindex = 0,
        columns = new jqxGrid._column[] {
            new jqx_column._number(this, "sn"),
            new jqx_column.LogType(this) { hidden = false },
            new jqx_column._string(this, "SerialNumber") { width = 120 },
            new jqx_column.CreateTime(this),
            new jqx_column.CorpID(this),
            new jqx_column.CorpName(this) { root = false },
            new jqx_column.ParentID(this) { hidden = true },
            new jqx_column.ParentName(this),
            new jqx_column.UserID(this),
            new jqx_column.UserName(this),
            new jqx_column.PlatformID(this),
            new jqx_column.PlatformName(this),
            new jqx_column.Amount(this, "PrevBalance ", lang["PrevBalance "]) { width = 150 },
            new jqx_column.Amount(this, "Amount      ", lang["Amount      "]) { width = 150 },
            new jqx_column.Amount(this, "Balance     ", lang["Balance     "]) { width = 150 },
            new jqx_column.Amount(this, "PrevBalance1", lang["PrevBalance1"]) { width = 80 },
            new jqx_column.Amount(this, "Amount1     ", lang["Amount1     "]) { width = 80 },
            new jqx_column.Amount(this, "Balance1    ", lang["Balance1    "]) { width = 80 },
            new jqx_column.Amount(this, "PrevBalance2", lang["PrevBalance2"]) { width = 80 },
            new jqx_column.Amount(this, "Amount2     ", lang["Amount2     "]) { width = 80 },
            new jqx_column.Amount(this, "Balance2    ", lang["Balance2    "]) { width = 80 },
            new jqx_column.Amount(this, "PrevBalance3", lang["PrevBalance3"]) { width = 80 },
            new jqx_column.Amount(this, "Amount3     ", lang["Amount3     "]) { width = 80 },
            new jqx_column.Amount(this, "Balance3    ", lang["Balance3    "]) { width = 80 },
            new jqx_column.Currency(this, "CurrencyA"){ hidden = true },
            new jqx_column.Currency(this, "CurrencyB"){ hidden = true },
            new jqx_column.Amount(this, "CurrencyX") { hidden = true },
            new jqx_column._string(this, "PaymentAccount"),
            new jqx_column._string(this, "TranID"),
            new jqx_column._string(this, "RequestIP"),
            new jqx_column.DateTime(this, "RequestTime")
        }
    };
    widgets.layout_1(this, grid);
}
@section head {
    <script type="text/javascript">
        $(document).on('ng-app-init', function (e, $scope, $compile, $http) {
            window.$grid1 = $scope['@grid.scope_id'] = $('#_grid1').jqxGridEx($.n(@grid), {
                columns: [
                ],
                ext: {
                },
            });
        });
    </script>
}
<div id="toolbar" class="hidden">
    @toolbars.GridRefresh(grid, true)
</div>
<div id="_grid1"></div>
